import{j as e,r as i}from"./react-B3BWBEQz.js";import{c as J}from"./react-dom-DMfWmUN2.js";import{T as y,B as g,G as l,a as m,I as z,S as E,M as c,b as w,D as $,c as G,d as V,e as X,f as H,g as U,s as x,A as _,h as I,i as b,j as T,C as A,k as K,l as Q,m as Y,n as L,P as S,o as Z,p as ee,r as te}from"./@mui-Bej3GDON.js";import{P as F}from"./prop-types-CCMhjmOm.js";import{u as ne,N as O,O as re,a as ae,b as P}from"./react-router-BtstGRLK.js";import{P as ie}from"./react-phone-input-2-Dcd6XuZX.js";import{H as se}from"./react-router-dom-cjU642-d.js";import"./@babel-xrwFJIuN.js";import"./scheduler-CzFDRTuY.js";import"./@emotion-B0-DUB0S.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./stylis-FDnFs_-n.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-DHSr5Zlw.js";import"./reselect-HBGHfvfV.js";import"./@popperjs-BQBsAJpH.js";import"./@remix-run-4ybEbhEz.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function d(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=d(n);fetch(n.href,a)}})();function j(t){return e.jsx(y,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:t.children})}j.propTypes={children:F.node};const B=i.createContext(),oe=({children:t})=>{const[r,d]=i.useState(JSON.parse(localStorage.getItem("user"))||null),[s,n]=i.useState(localStorage.getItem("site")||""),a=ne(),o=async p=>{try{p.login==="test"&&p.password==="test"?(d({full_name:"test user",admin:!1}),n("token"),localStorage.setItem("site",s),localStorage.setItem("user",JSON.stringify(r))):Alert,a("/")}catch(f){console.log(f.message)}},h=()=>{d(null),n(""),localStorage.removeItem("site"),localStorage.removeItem("user"),a("/login")};return e.jsx(B.Provider,{value:{token:s,user:r,loginAction:o,logout:h},children:t})},W=()=>i.useContext(B);function le(){const[t,r]=i.useState("no contact made"),d=a=>{r(a.target.value)},s=a=>{a.preventDefault(),new FormData(a.currentTarget),auth.loginAction(input)},n=a=>{console.log("change")};return e.jsxs(i.Fragment,{children:[e.jsx(j,{children:"Add New Number"}),e.jsx(g,{component:"form",onSubmit:s,noValidate:!0,children:e.jsxs(l,{item:!0,container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:[e.jsx(l,{item:!0,xs:4,children:e.jsx(ie,{fullWidth:!0,className:"number",country:"lb",onChange:n})}),e.jsx(l,{item:!0,xs:4,children:e.jsx(m,{margin:"normal",required:!0,fullWidth:!0,id:"login",label:"Participant",name:"login",autoComplete:"off",autoFocus:!0,onChange:n})}),e.jsx(l,{item:!0,xs:2,children:e.jsx(m,{margin:"normal",required:!0,fullWidth:!0,id:"login",label:"Chain",name:"login",autoComplete:"off",autoFocus:!0,onChange:n})}),e.jsx(l,{item:!0,xs:2,children:e.jsx(m,{margin:"normal",required:!0,fullWidth:!0,id:"login",label:"Level",name:"login",autoComplete:"off",autoFocus:!0,onChange:n})}),e.jsx(l,{item:!0,xs:4,children:e.jsx(m,{margin:"normal",required:!0,fullWidth:!0,id:"login",label:"Referral",name:"login",autoComplete:"off",autoFocus:!0,onChange:n})}),e.jsxs(l,{item:!0,xs:4,children:[e.jsx(z,{id:"status",children:"Status"}),e.jsxs(E,{id:"status",value:t,onChange:d,autoWidth:!0,label:"Status",children:[e.jsx(c,{value:"no contact made",children:"No contact made"}),e.jsx(c,{value:"contact made waiting consent",children:"Contact made waiting consent"}),e.jsx(c,{value:"no answer attempting again",children:"No answer attempting again"}),e.jsx(c,{value:"participated",children:"Participated"}),e.jsx(c,{value:"declined",children:"Declined"}),e.jsx(c,{value:"no answer",children:"No answer"})]})]}),e.jsx(l,{item:!0,xs:2,children:e.jsx(w,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Submit"})})]})})]})}function k(t){let r=[];t.nums.map(u=>{r.push({id:u.phone_number,name:u.name,referral:u.Referral,chain:u.chain,level:u.level,status:u.status})});const[s,n]=i.useState(!1);i.useState();const a=()=>{n(!0)},o=()=>{n(!1)},[h,p]=i.useState("no contact made"),f=u=>{p(u.target.value)},C=[{field:"id",headerName:"Number",width:150},{field:"name",headerName:"Name",width:150},{field:"referral",headerName:"Referral",width:150},{field:"chain",headerName:"Chain",type:"number",width:60},{field:"level",headerName:"Level",type:"number",width:60},{field:"status",headerName:"Status",width:160}];return e.jsxs("div",{style:{height:400,width:"100%"},children:[e.jsx($,{rows:r,columns:C,rowSelection:"false",initialState:{pagination:{paginationModel:{page:0,pageSize:5}}},pageSizeOptions:[5,10,15],onRowDoubleClick:a}),e.jsxs(G,{open:s,onClose:o,PaperProps:{component:"form",onSubmit:u=>{o()}},children:[e.jsx(V,{children:"Edit"}),e.jsxs(X,{children:[e.jsx(H,{children:"To Edit"}),e.jsx(z,{id:"status",children:"Status"}),e.jsxs(E,{id:"status",value:h,onChange:f,autoWidth:!0,label:"Status",children:[e.jsx(c,{value:"no contact made",children:"No contact made"}),e.jsx(c,{value:"contact made waiting consent",children:"Contact made waiting consent"}),e.jsx(c,{value:"no answer attempting again",children:"No answer attempting again"}),e.jsx(c,{value:"participated",children:"Participated"}),e.jsx(c,{value:"declined",children:"Declined"}),e.jsx(c,{value:"no answer",children:"No answer"})]})]}),e.jsxs(U,{children:[e.jsx(w,{onClick:o,children:"Cancel"}),e.jsx(w,{onClick:o,children:"Edit"})]})]})]})}const M=240,ce=x(_,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:r})=>({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...r&&{marginLeft:M,width:"calc(100% - 0)",transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}}));x(I,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:r})=>({"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:M,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box",...!r&&{overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7),[t.breakpoints.up("sm")]:{width:t.spacing(9)}}}}));const de=b();function ue(){const t=W(),[r,d]=i.useState(!0),[s,n]=i.useState([]),[a,o]=i.useState([]),[h,p]=i.useState([]),[f,C]=i.useState(!0);i.useEffect(()=>{(async()=>{try{const N={pending_count:8,total_contacts:10,completed_count:2,pending:[{phone_number:"96170011212",name:"Joey",user_id:3,chain:1,level:2,status:"no contact made",Referral:"Dane"},{phone_number:"96100000000",name:"Joyce",user_id:3,chain:2,level:0,status:"no contact made",Referral:"Root Participant"},{phone_number:"96111111111",name:"Levi",user_id:3,chain:2,level:1,status:"contact made waiting consent",Referral:"Joyce"},{phone_number:"96122222222",name:"Dante",user_id:3,chain:2,level:2,status:"no contact made",Referral:"Levi"},{phone_number:"96133333333",name:"Angie",user_id:3,chain:3,level:0,status:"no contact made",Referral:"Root Participant"},{phone_number:"96144444444",name:"Rene",user_id:3,chain:3,level:1,status:"contact made waiting consent",Referral:"Angie"},{phone_number:"96155555555",name:"Albert",user_id:3,chain:3,level:2,status:"no contact made",Referral:"Rene"},{phone_number:"96166666666",name:"Vivian",user_id:3,chain:4,level:0,status:"no contact made",Referral:"Root Participant"}],completed:[{phone_number:"96177777777",name:"Jane",user_id:3,chain:1,level:0,status:"participated",Referral:"Root Participant"},{phone_number:"96188888888",name:"Dane",user_id:3,chain:1,level:1,status:"declined",Referral:"Jane"}]};o(N.pending),p(N.completed),n(resp.data)}catch{}})()},[]),i.useEffect(()=>{s&&C(!1)},[s]);const u=()=>{d(!r)},q=()=>{t.logout()};return e.jsx(T,{theme:de,children:e.jsxs(g,{sx:{display:"flex"},children:[e.jsx(A,{}),e.jsx(ce,{position:"absolute",open:r,children:e.jsxs(K,{sx:{pr:"24px"},children:[e.jsx(Q,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:u,sx:{marginRight:"36px",...r&&{display:"none"}},children:e.jsx(Y,{})}),e.jsx(y,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:"User Dashboard"}),e.jsx(w,{onClick:q,variant:"contained",color:"error",children:"Logout"})]})}),e.jsx(g,{component:"main",sx:{backgroundColor:v=>v.palette.mode==="light"?v.palette.grey[100]:v.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto"},children:e.jsx(L,{maxWidth:"lg",sx:{mt:4,mb:4},children:f?e.jsx("p",{children:"Loading"}):e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,children:e.jsx(S,{sx:{p:2,display:"flex",flexDirection:"column"},children:e.jsx(le,{})})}),e.jsx(l,{item:!0,xs:12,md:4,lg:4,children:e.jsxs(S,{sx:{p:2,display:"flex",flexDirection:"column",height:120},children:[e.jsx(j,{children:"Total Calls"}),e.jsx(y,{component:"p",variant:"h4",children:"8 / 10"})]})}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(S,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsx(j,{children:"Pending Calls"})," Double click to edit",e.jsx(k,{nums:a})]})}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(S,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsx(j,{children:"Completed Calls"})," Double click to edit",e.jsx(k,{nums:h})]})})]})})})]})})}const pe=b();function he(){const t=W(),[r,d]=i.useState({login:"",password:""}),s=a=>{a.preventDefault(),new FormData(a.currentTarget),t.loginAction(r)},n=a=>{const{name:o,value:h}=a.target;d(p=>({...p,[o]:h}))};return e.jsx(T,{theme:pe,children:e.jsxs(L,{component:"main",maxWidth:"xs",children:[e.jsx(A,{}),e.jsxs(g,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(Z,{sx:{m:1,bgcolor:"secondary.main"},children:e.jsx(ee,{})}),e.jsx(y,{component:"h1",variant:"h5",children:"Sign in"}),e.jsxs(g,{component:"form",onSubmit:s,noValidate:!0,sx:{mt:1},children:[e.jsx(m,{margin:"normal",required:!0,fullWidth:!0,id:"login",label:"Login id",name:"login",autoComplete:"off",autoFocus:!0,onChange:n}),e.jsx(m,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"off",onChange:n}),e.jsx(w,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"})]})]})]})})}const me=()=>{const t=W();return t.token?t.user.admin?e.jsx(O,{to:"/login"}):e.jsx(re,{}):e.jsx(O,{to:"/login"})};F.node;const D=240;x(_,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:r})=>({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...r&&{marginLeft:D,width:`calc(100% - ${D}px)`,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}}));x(I,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:r})=>({"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:D,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box",...!r&&{overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7),[t.breakpoints.up("sm")]:{width:t.spacing(9)}}}}));b();F.node;const R=240;x(_,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:r})=>({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...r&&{marginLeft:R,width:`calc(100% - ${R}px)`,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}}));x(I,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:r})=>({"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:R,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box",...!r&&{overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7),[t.breakpoints.up("sm")]:{width:t.spacing(9)}}}}));b();function ge(){return e.jsx(L,{children:e.jsx(se,{children:e.jsx(oe,{children:e.jsx(g,{sx:{my:6},children:e.jsxs(ae,{children:[e.jsx(P,{path:"/login",element:e.jsx(he,{})}),e.jsx(P,{path:"/",element:e.jsx(me,{}),children:e.jsx(P,{path:"/",element:e.jsx(ue,{})})})]})})})})})}const xe=b({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:te.A400}}}),fe=document.getElementById("root"),je=J(fe);je.render(e.jsxs(i.StrictMode,{children:[e.jsxs(T,{theme:xe,children:[e.jsx(A,{}),e.jsx(ge,{})]}),","]}));
