import{P as _,j as e,T as y,r as i,u as J,B as m,G as l,a as $,b as g,I as z,S as B,M as c,c as w,D as G,d as V,e as X,f as U,g as K,h as H,s as x,A as I,i as T,k as b,l as A,C as L,m as Q,n as Y,o as Z,p as F,q as S,t as ee,v as ne,N as O,O as te,w as ae,R as re,x as D,y as ie,z as se}from"./vendor-n7ExEyc3.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function d(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=d(t);fetch(t.href,r)}})();function j(n){return e.jsx(y,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:n.children})}j.propTypes={children:_.node};const E=i.createContext(),oe=({children:n})=>{const[a,d]=i.useState(JSON.parse(localStorage.getItem("user"))||null),[s,t]=i.useState(localStorage.getItem("site")||""),r=J(),o=async h=>{try{h.login==="test"&&h.password==="test"?(d({full_name:"test user",admin:!1}),t("token"),localStorage.setItem("site",s),localStorage.setItem("user",JSON.stringify(a))):Alert,r("/")}catch(f){console.log(f.message)}},p=()=>{d(null),t(""),localStorage.removeItem("site"),localStorage.removeItem("user"),r("/login")};return e.jsx(E.Provider,{value:{token:s,user:a,loginAction:o,logout:p},children:n})},W=()=>i.useContext(E);function le(){const[n,a]=i.useState("no contact made"),d=r=>{a(r.target.value)},s=r=>{r.preventDefault(),new FormData(r.currentTarget),auth.loginAction(input)},t=r=>{console.log("change")};return e.jsxs(i.Fragment,{children:[e.jsx(j,{children:"Add New Number"}),e.jsx(m,{component:"form",onSubmit:s,noValidate:!0,children:e.jsxs(l,{item:!0,container:!0,spacing:2,children:[e.jsx(l,{item:!0,xs:4,children:e.jsx($,{fullWidth:!0,className:"number",country:"lb",onChange:t})}),e.jsx(l,{item:!0,xs:4,children:e.jsx(g,{margin:"normal",required:!0,fullWidth:!0,id:"login",label:"Participant",name:"login",autoComplete:"off",autoFocus:!0,onChange:t})}),e.jsx(l,{item:!0,xs:2,children:e.jsx(g,{margin:"normal",required:!0,fullWidth:!0,id:"login",label:"Chain",name:"login",autoComplete:"off",autoFocus:!0,onChange:t})}),e.jsx(l,{item:!0,xs:2,children:e.jsx(g,{margin:"normal",required:!0,fullWidth:!0,id:"login",label:"Level",name:"login",autoComplete:"off",autoFocus:!0,onChange:t})}),e.jsx(l,{item:!0,xs:4,children:e.jsx(g,{margin:"normal",required:!0,fullWidth:!0,id:"login",label:"Referral",name:"login",autoComplete:"off",autoFocus:!0,onChange:t})}),e.jsxs(l,{item:!0,xs:4,children:[e.jsx(z,{id:"status",children:"Status"}),e.jsxs(B,{id:"status",value:n,onChange:d,autoWidth:!0,label:"Status",children:[e.jsx(c,{value:"no contact made",children:"No contact made"}),e.jsx(c,{value:"contact made waiting consent",children:"Contact made waiting consent"}),e.jsx(c,{value:"no answer attempting again",children:"No answer attempting again"}),e.jsx(c,{value:"participated",children:"Participated"}),e.jsx(c,{value:"declined",children:"Declined"}),e.jsx(c,{value:"no answer",children:"No answer"})]})]}),e.jsx(l,{item:!0,xs:2,children:e.jsx(w,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Submit"})})]})})]})}function k(n){let a=[];n.nums.map(u=>{a.push({id:u.phone_number,name:u.name,referral:u.Referral,chain:u.chain,level:u.level,status:u.status})});const[s,t]=i.useState(!1);i.useState();const r=()=>{t(!0)},o=()=>{t(!1)},[p,h]=i.useState("no contact made"),f=u=>{h(u.target.value)},C=[{field:"id",headerName:"Number",width:150},{field:"name",headerName:"Name",width:150},{field:"referral",headerName:"Referral",width:150},{field:"chain",headerName:"Chain",type:"number",width:60},{field:"level",headerName:"Level",type:"number",width:60},{field:"status",headerName:"Status",width:160}];return e.jsxs("div",{style:{height:400,width:"100%"},children:[e.jsx(G,{rows:a,columns:C,rowSelection:"false",initialState:{pagination:{paginationModel:{page:0,pageSize:5}}},pageSizeOptions:[5,10,15],onRowDoubleClick:r}),e.jsxs(V,{open:s,onClose:o,PaperProps:{component:"form",onSubmit:u=>{o()}},children:[e.jsx(X,{children:"Edit"}),e.jsxs(U,{children:[e.jsx(K,{children:"To Edit"}),e.jsx(z,{id:"status",children:"Status"}),e.jsxs(B,{id:"status",value:p,onChange:f,autoWidth:!0,label:"Status",children:[e.jsx(c,{value:"no contact made",children:"No contact made"}),e.jsx(c,{value:"contact made waiting consent",children:"Contact made waiting consent"}),e.jsx(c,{value:"no answer attempting again",children:"No answer attempting again"}),e.jsx(c,{value:"participated",children:"Participated"}),e.jsx(c,{value:"declined",children:"Declined"}),e.jsx(c,{value:"no answer",children:"No answer"})]})]}),e.jsxs(H,{children:[e.jsx(w,{onClick:o,children:"Cancel"}),e.jsx(w,{onClick:o,children:"Edit"})]})]})]})}const q=240,ce=x(I,{shouldForwardProp:n=>n!=="open"})(({theme:n,open:a})=>({zIndex:n.zIndex.drawer+1,transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),...a&&{marginLeft:q,width:"calc(100% - 0)",transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen})}}));x(T,{shouldForwardProp:n=>n!=="open"})(({theme:n,open:a})=>({"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:q,transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen}),boxSizing:"border-box",...!a&&{overflowX:"hidden",transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),width:n.spacing(7),[n.breakpoints.up("sm")]:{width:n.spacing(9)}}}}));const de=b();function ue(){const n=W(),[a,d]=i.useState(!0),[s,t]=i.useState([]),[r,o]=i.useState([]),[p,h]=i.useState([]),[f,C]=i.useState(!0);i.useEffect(()=>{(async()=>{try{const N={pending_count:8,total_contacts:10,completed_count:2,pending:[{phone_number:"96170011212",name:"Joey",user_id:3,chain:1,level:2,status:"no contact made",Referral:"Dane"},{phone_number:"96100000000",name:"Joyce",user_id:3,chain:2,level:0,status:"no contact made",Referral:"Root Participant"},{phone_number:"96111111111",name:"Levi",user_id:3,chain:2,level:1,status:"contact made waiting consent",Referral:"Joyce"},{phone_number:"96122222222",name:"Dante",user_id:3,chain:2,level:2,status:"no contact made",Referral:"Levi"},{phone_number:"96133333333",name:"Angie",user_id:3,chain:3,level:0,status:"no contact made",Referral:"Root Participant"},{phone_number:"96144444444",name:"Rene",user_id:3,chain:3,level:1,status:"contact made waiting consent",Referral:"Angie"},{phone_number:"96155555555",name:"Albert",user_id:3,chain:3,level:2,status:"no contact made",Referral:"Rene"},{phone_number:"96166666666",name:"Vivian",user_id:3,chain:4,level:0,status:"no contact made",Referral:"Root Participant"}],completed:[{phone_number:"96177777777",name:"Jane",user_id:3,chain:1,level:0,status:"participated",Referral:"Root Participant"},{phone_number:"96188888888",name:"Dane",user_id:3,chain:1,level:1,status:"declined",Referral:"Jane"}]};o(N.pending),h(N.completed),t(resp.data)}catch{}})()},[]),i.useEffect(()=>{s&&C(!1)},[s]);const u=()=>{d(!a)},M=()=>{n.logout()};return e.jsx(A,{theme:de,children:e.jsxs(m,{sx:{display:"flex"},children:[e.jsx(L,{}),e.jsx(ce,{position:"absolute",open:a,children:e.jsxs(Q,{sx:{pr:"24px"},children:[e.jsx(Y,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:u,sx:{marginRight:"36px",...a&&{display:"none"}},children:e.jsx(Z,{})}),e.jsx(y,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:"User Dashboard"}),e.jsx(w,{onClick:M,variant:"contained",color:"error",children:"Logout"})]})}),e.jsx(m,{component:"main",sx:{backgroundColor:v=>v.palette.mode==="light"?v.palette.grey[100]:v.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto"},children:e.jsx(F,{maxWidth:"lg",sx:{mt:4,mb:4},children:f?e.jsx("p",{children:"Loading"}):e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,children:e.jsx(S,{sx:{p:2,display:"flex",flexDirection:"column"},children:e.jsx(le,{})})}),e.jsx(l,{item:!0,xs:12,md:4,lg:4,children:e.jsxs(S,{sx:{p:2,display:"flex",flexDirection:"column",height:120},children:[e.jsx(j,{children:"Total Calls"}),e.jsx(y,{component:"p",variant:"h4",children:"8 / 10"})]})}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(S,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsx(j,{children:"Pending Calls"})," Double click to edit",e.jsx(k,{nums:r})]})}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(S,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsx(j,{children:"Completed Calls"})," Double click to edit",e.jsx(k,{nums:p})]})})]})})})]})})}const he=b();function pe(){const n=W(),[a,d]=i.useState({login:"",password:""}),s=r=>{r.preventDefault(),new FormData(r.currentTarget),n.loginAction(a)},t=r=>{const{name:o,value:p}=r.target;d(h=>({...h,[o]:p}))};return e.jsx(A,{theme:he,children:e.jsxs(F,{component:"main",maxWidth:"xs",children:[e.jsx(L,{}),e.jsxs(m,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(ee,{sx:{m:1,bgcolor:"secondary.main"},children:e.jsx(ne,{})}),e.jsx(y,{component:"h1",variant:"h5",children:"Sign in"}),e.jsxs(m,{component:"form",onSubmit:s,noValidate:!0,sx:{mt:1},children:[e.jsx(g,{margin:"normal",required:!0,fullWidth:!0,id:"login",label:"Login id",name:"login",autoComplete:"off",autoFocus:!0,onChange:t}),e.jsx(g,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"off",onChange:t}),e.jsx(w,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"})]})]})]})})}const ge=()=>{const n=W();return n.token?n.user.admin?e.jsx(O,{to:"/login"}):e.jsx(te,{}):e.jsx(O,{to:"/login"})};_.node;const P=240;x(I,{shouldForwardProp:n=>n!=="open"})(({theme:n,open:a})=>({zIndex:n.zIndex.drawer+1,transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),...a&&{marginLeft:P,width:`calc(100% - ${P}px)`,transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen})}}));x(T,{shouldForwardProp:n=>n!=="open"})(({theme:n,open:a})=>({"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:P,transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen}),boxSizing:"border-box",...!a&&{overflowX:"hidden",transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),width:n.spacing(7),[n.breakpoints.up("sm")]:{width:n.spacing(9)}}}}));b();_.node;const R=240;x(I,{shouldForwardProp:n=>n!=="open"})(({theme:n,open:a})=>({zIndex:n.zIndex.drawer+1,transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),...a&&{marginLeft:R,width:`calc(100% - ${R}px)`,transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen})}}));x(T,{shouldForwardProp:n=>n!=="open"})(({theme:n,open:a})=>({"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:R,transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen}),boxSizing:"border-box",...!a&&{overflowX:"hidden",transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),width:n.spacing(7),[n.breakpoints.up("sm")]:{width:n.spacing(9)}}}}));b();function me(){return e.jsx(F,{children:e.jsx(ae,{children:e.jsx(oe,{children:e.jsx(m,{sx:{my:6},children:e.jsxs(re,{children:[e.jsx(D,{path:"/login",element:e.jsx(pe,{})}),e.jsx(D,{path:"/",element:e.jsx(ge,{}),children:e.jsx(D,{path:"/",element:e.jsx(ue,{})})})]})})})})})}const xe=b({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:ie.A400}}}),fe=document.getElementById("root"),je=se(fe);je.render(e.jsxs(i.StrictMode,{children:[e.jsxs(A,{theme:xe,children:[e.jsx(L,{}),e.jsx(me,{})]}),","]}));
